{% extends ":Admin:base.html.twig" %}

{% block body_content %}
    <a href="#"><strong>{{ user.firstName }} {{ user.lastName }}</strong></a>

    <hr>
    <div class="row">
        <div class="col-lg-6">
            <ul class="list-group">
                <li class="list-group-item"><strong>Adresse</strong>: {{ user.address }} {{ user.postalCode }}  {{ user.country }} {{ user.city }}</li>
                <li class="list-group-item"><strong>Email</strong> : {{ user.email }}</li>
                <li class="list-group-item"><strong>Téléphone</strong> : {{ user.tel }}</li>
                <li class="list-group-item">{{ user.isEnabled ? 'Compte Activé' : 'Compte Désactiver' }}</li>
                <li class="list-group-item">
                    <strong>Roles</strong> :{% for role in user.roles %}{{ role }} {% endfor %}
                </li>

            </ul>
        </div>
        <div class="col-lg-6">
            {% if user != app.user %}
            <ul style="list-style: none;" class="list-group">
                <li style=" margin-bottom: 10px;">
                    <a href="{{ path('desactive_user', {'id': user.id}) }}" class="btn btn-warning">
                        {{ user.isEnabled ? 'Désactiver' : 'Réactiver' }}
                    </a>
                </li>
                <li style=" margin-bottom: 10px;">
                    <a href="{{ path('cms_messagerie_contact', {'id': user.id}) }}" class="btn btn-primary">Contacter</a>

                </li>

                <li style=" margin-bottom: 10px;">
                    {% if user.hasRole('ROLE_ADMIN') %}
                        <a href="{{ path('remove_user', {'id': user.id}) }}" class="btn btn-primary">Retirer le Role Admin</a>
                    {% else %}
                        <a href="{{ path('promote_user', {'id': user.id}) }}" class="btn btn-primary">Donner le Role Admin</a>
                    {% endif %}
                </li>
            </ul>
            {% endif %}
        </div>
    </div>

    <hr>
    <a href="#"><strong>Ces produits associés</strong></a>

    <div class="row">
</br>
        <div class="col-lg-12">
            {% for userProduct in userProducts %}
                {% set product =  userProduct.product %}
                <div class="well well-lg col-lg-3" style="margin-right: 10px">
                    <p><strong>{{ product.name }}</strong></p>
                    <p>Quantité: {{ userProduct.qty }}</p>
                    <p>Prix :{{ userProduct.price }}</p>
                    <p>Etat :{{ userProduct.state ? 'Neuf' : 'Occasion' }}</p>
                    <a href="{{ path('product_user_view', {'id': userProduct.id }) }}" class="btn btn-primary">Voir</a>
                </div>
            {% endfor %}
        </div>
    </div>

{% endblock %}
